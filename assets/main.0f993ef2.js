var e=(e,t,n)=>new Promise(((s,o)=>{var a=e=>{try{i(n.next(e))}catch(t){o(t)}},r=e=>{try{i(n.throw(e))}catch(t){o(t)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,r);i((n=n.apply(e,t)).next())}));import{M as t,X as n,B as s}from"./vendor.d9b43e6b.js";const o=e=>{const t=new Date(e)||new Date,n=t.getFullYear(),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][t.getMonth()];return`${["Sun","Mon","Tues","Wed","Thur","Fri","Sat"][t.getDay()]},${t.getDate()<10?"0"+t.getDate():t.getDate()} ${s}${n}`};t.setup({timeout:"200-1500"}),t.mock("/list.json","get",{"data|10":[{sentence:"@sentence",title:"@title",date:'@datetime("yyyy-MM-dd HH:mm:ss")',image:'@image("100x100")'}]});var a=new class{post(e,t){return new Promise(((n,s)=>{let o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded charset=UTF-8"),o.onload=function(){if(this.status>=200&&this.status<400){const e=JSON.parse(this.response);n(e)}else s(this)},o.onerror=function(e){s(e)};let a="";for(let e in t)""!==t[e]&&(a+=`${e}=${t[e]}&`);a+=`_t=${Date.now()}`,console.log(a),o.send(a)}))}get(e){return new Promise(((t,n)=>{let s=new XMLHttpRequest;s.open("get",e,!0),s.onload=function(){if(this.status>=200&&this.status<400){const e=JSON.parse(this.response);t(e)}else n(this)},s.send()}))}};const r=new class{constructor(){}error(){alert("请求出错,请检查网络!")}query(){return e(this,null,(function*(){return(yield a.get("/list.json")).data}))}};let i=null;function l(e=""){document.querySelector("html").setAttribute("theme",e)}window.onload=function(){n({searchValue:"",hideHead:!1,loading:!1,list:[],theme:"moon",now:o(new Date),tags:["Business","Entertainment","Society","Science","Hotspots"],formatDate:e=>o(e),changeTheme(){"moon"===this.theme?(this.theme="sun",l("dark-mode")):(this.theme="moon",l())},onMounted(){this.initBScroll(),this.fetchData()},initBScroll(){i=new s(".bscroll-wrapper",{scrollY:!0,scrollX:!1,click:!0,eventPassthrough:"horizontal",probeType:3}),i.on("scroll",(e=>{e.y<-200?this.hideHead=!0:this.hideHead=!1}))},fetchData(){return e(this,null,(function*(){this.loading=!0;try{const e=yield r.query();this.list=e||[]}catch(e){}setTimeout((()=>{i.refresh()}),100),this.loading=!1}))},search(){alert("Search:"+this.searchValue)}}).mount("#app"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&l("dark-mode")};
